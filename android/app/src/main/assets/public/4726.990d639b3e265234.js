"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4726],{4726:(T,c,o)=>{o.r(c),o.d(c,{PerfilPage:()=>k});var u=o(5149),h=o(8458),v=o(4558),e=o(3953),g=o(177),f=o(4341),P=o(8880),a=o(8638),p=o(5079),l=o(5873),m=o(1125),d=o(6394),O=o(2753);function E(n,r){if(1&n&&e.nrm(0,"ion-img",9),2&n){const s=e.XpG();e.Y8G("src",s.profile.data.user.photo)}}function M(n,r){1&n&&(e.j41(0,"ion-thumbnail",10),e.nrm(1,"ion-skeleton-text",15),e.k0s()),2&n&&(e.R7$(),e.Y8G("animated",!0))}function b(n,r){if(1&n&&e.EFF(0),2&n){const s=e.XpG();e.SpI(" ",s.profile.data.user.name," ")}}function C(n,r){1&n&&(e.j41(0,"p"),e.nrm(1,"ion-skeleton-text",16),e.k0s()),2&n&&(e.R7$(),e.Y8G("animated",!0))}function x(n,r){if(1&n&&e.EFF(0),2&n){const s=e.XpG();e.SpI(" ",s.profile.data.user.phone," ")}}function D(n,r){1&n&&(e.j41(0,"p"),e.nrm(1,"ion-skeleton-text",16),e.k0s()),2&n&&(e.R7$(),e.Y8G("animated",!0))}let k=(()=>{var n,r=new WeakMap;class s{constructor(){(0,u.A)(this,r,void 0),(0,v.A)(r,this,(0,e.WQX)(O.X)),this.loaded=!1,this.authService=(0,e.WQX)(m.u),this.nav=(0,e.WQX)(P.q9),(0,p.a)({arrowBackOutline:l.hGB,saveOutline:l.oc8,triangle:l.zXF,ellipse:l.pw2,square:l.EwI,personCircleOutline:l.kki,cameraOutline:l.GOB,imageOutline:l.ETD,logOutOutline:l.z_V})}logout(){this.authService.logout().then(t=>{var i;1===(null==t||null===(i=t.data)||void 0===i?void 0:i.success)?this.authService.navigateByUrl("/login"):this.authService.showAlert("Su token de acceso ya no es valido, por favor inicie sesi\xf3n nuevamente.")}).catch(t=>{var i;this.authService.showAlert(null==t||null===(i=t.error)||void 0===i?void 0:i.message)})}ngOnInit(){this.getProfile()}back(){this.nav.back()}getPerfil(){this.authService.perfil().then(t=>{var i;1===(null==t||null===(i=t.data)||void 0===i?void 0:i.success)?(this.perfil=t.data,this.loaded=!0):this.authService.showAlert("Su token de acceso ya no es valido, por favor inicie sesi\xf3n nuevamente.")}).catch(t=>{var i;this.authService.showAlert(null==t||null===(i=t.error)||void 0===i?void 0:i.message)})}getProfile(){(0,h.A)(r,this).profile().then(t=>{this.profile=t.data,1===this.profile.success?this.loaded=!0:(this.authService.showToast("No se encontraron datos."),this.authService.navigateByUrl("auth/login")),403===(null==t?void 0:t.status)&&(this.authService.showToast("No tienes permisos para realizar esta acci\xf3n."),this.authService.navigateByUrl("auth/login")),500===(null==t?void 0:t.status)&&(this.authService.showToast("Error en el servidor, inicie sesi\xf3n nuevamente."),this.authService.navigateByUrl("auth/login"))})}getNumber(){this.authService.perfil().then(t=>{var i;1===(null==t||null===(i=t.data)||void 0===i?void 0:i.success)?(this.perfil=t.data,this.loaded=!0):this.authService.showAlert("Su token de acceso ya no es valido, por favor inicie sesi\xf3n nuevamente.")}).catch(t=>{var i;this.authService.showAlert(null==t||null===(i=t.error)||void 0===i?void 0:i.message)})}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-perfil"]],standalone:!0,features:[e.aNF],decls:44,vars:7,consts:[[1,"container"],["name","arrow-back-outline","size","large",1,"back",3,"click"],[1,"label"],["name","save-outline","size","large",1,"save"],[3,"translucent"],[3,"fullscreen"],["collapse","condense"],[1,"content"],[1,"account"],["routerLink","../photo-profile",1,"profile-img",3,"src"],["slot","start"],[1,"info"],[1,"infoPersonal"],[1,"button"],[1,"out",3,"click"],[3,"animated"],[2,"width","80%","height","1em",3,"animated"]],template:function(t,i){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-icon",1),e.bIt("click",function(){return i.back()}),e.k0s(),e.j41(4,"ion-label",2),e.EFF(5,"Perfil"),e.k0s(),e.nrm(6,"ion-icon",3),e.k0s()()(),e.nrm(7,"ion-header",4),e.j41(8,"ion-content",5)(9,"ion-header",6)(10,"ion-toolbar"),e.EFF(11," Perfil "),e.k0s()(),e.j41(12,"div",7)(13,"div",8),e.DNE(14,E,1,1,"ion-img",9)(15,M,2,1,"ion-thumbnail",10),e.k0s(),e.j41(16,"div",11)(17,"ion-label"),e.EFF(18,"Informacion "),e.nrm(19,"br"),e.EFF(20," personal"),e.k0s(),e.j41(21,"ion-label"),e.EFF(22,"Historial"),e.k0s()(),e.j41(23,"div",12)(24,"ion-item")(25,"ion-label"),e.EFF(26," Nombre : "),e.k0s(),e.j41(27,"ion-label"),e.DNE(28,b,1,1)(29,C,2,1,"p"),e.k0s()(),e.j41(30,"ion-item")(31,"ion-label"),e.EFF(32," Numero : "),e.k0s(),e.j41(33,"ion-label"),e.DNE(34,x,1,1)(35,D,2,1,"p"),e.k0s()(),e.j41(36,"ion-item")(37,"ion-label"),e.EFF(38," Rol : "),e.k0s(),e.j41(39,"ion-label"),e.EFF(40," Barbero "),e.k0s()(),e.j41(41,"div",13)(42,"ion-button",14),e.bIt("click",function(){return i.logout()}),e.EFF(43,"Cerrar seccion"),e.k0s()()()()()),2&t&&(e.R7$(7),e.Y8G("translucent",!0),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(6),e.vxM(i.loaded?14:15),e.R7$(14),e.vxM(i.loaded?28:-1),e.R7$(),e.vxM(i.loaded?-1:29),e.R7$(5),e.vxM(i.loaded?34:-1),e.R7$(),e.vxM(i.loaded?-1:35))},dependencies:[a.ds,a.KW,a.Jm,a.he,a.uz,a.iq,a.W9,a.eU,a.ai,g.MD,f.YN,d.iI,d.Wk,a.Zx],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{padding-left:7%;padding-right:7%;width:100%;display:flex;align-items:center;justify-content:space-between}.content[_ngcontent-%COMP%]{padding-top:8%}.save[_ngcontent-%COMP%]{width:45px;height:45px}.label[_ngcontent-%COMP%]{font-size:19px;text-align:center;flex-grow:1}.account[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.account[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;overflow:hidden}.info[_ngcontent-%COMP%]{font-size:18px;padding-top:14%;display:flex;flex-direction:row;justify-content:space-between;padding-right:20%;padding-left:16%}.infoPersonal[_ngcontent-%COMP%]{padding-top:14%}.infoPersonal[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px;font-size:18px}.infoPersonal[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}ion-modal[_ngcontent-%COMP%]{--height: 80%;--width: 100vw;--border-radius: 16px 16px 0 0;--box-shadow: none;position:absolute;bottom:0;left:0;right:0;margin:0;overflow:hidden}ion-modal[_ngcontent-%COMP%]::part(backdrop){background:#0000;opacity:0;box-shadow:none}.img[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding-left:15%;padding-right:15%;padding-top:28%}.camera[_ngcontent-%COMP%], .galery[_ngcontent-%COMP%]{width:80px;height:80px}.foto[_ngcontent-%COMP%]{width:100px;height:100px}.button[_ngcontent-%COMP%]{padding-top:2rem;display:flex;flex-direction:column;align-items:center}.button[_ngcontent-%COMP%]   .out[_ngcontent-%COMP%]{width:45%;--background: red}ion-skeleton-text[_ngcontent-%COMP%]{--border-radius: 9999px}ion-thumbnail[_ngcontent-%COMP%]{--size: 80px;--border-radius: 14px}']}),s})()}}]);