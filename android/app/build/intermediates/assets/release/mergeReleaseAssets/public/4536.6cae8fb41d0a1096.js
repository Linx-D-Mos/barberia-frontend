"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4536],{4536:(M,g,i)=>{i.r(g),i.d(g,{RegistroPage:()=>f});var n=i(3953),u=i(177),e=i(4341),p=i(5079),s=i(5873),a=i(4742),_=i(9335),m=i(4831),h=i(9763),v=i(8880);function P(r,d){if(1&r){const l=n.RV6();n.j41(0,"ion-content")(1,"div",17)(2,"div",18)(3,"h3"),n.EFF(4,"Ingresa el c\xf3digo de verificaci\xf3n enviado a tu correo"),n.k0s(),n.j41(5,"p"),n.EFF(6),n.k0s()(),n.j41(7,"div",19),n.nrm(8,"p-inputOtp",20),n.k0s(),n.j41(9,"div",21)(10,"ion-note"),n.EFF(11," \xbfNo has recibido el c\xf3digo? "),n.j41(12,"ion-text",22),n.bIt("click",function(){n.eBV(l);const o=n.XpG();return n.Njj(o.resendCode())}),n.EFF(13," Reenviar c\xf3digo "),n.k0s()(),n.j41(14,"button",23),n.EFF(15," Siguiente "),n.k0s()()()()}if(2&r){const l=n.XpG();n.R7$(6),n.JRh(null==l.email||null==l.email.datum?null:l.email.datum.email),n.R7$(2),n.Y8G("length",6)}}let f=(()=>{var r;class d{constructor(t){this.nav=t,this.authService=(0,n.WQX)(_.u),(0,p.a)({arrowBack:s.$$C,arrowBackOutline:s.hGB})}ngOnInit(){this.regisForm=new e.gE({name:new e.MJ("",[e.k0.required]),email:new e.MJ("",[e.k0.email,e.k0.required]),phone:new e.MJ("",[e.k0.required,e.k0.pattern(/^[0-9]{10}$/)]),password:new e.MJ("",[e.k0.required,e.k0.minLength(8),e.k0.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/)]),password_confirmation:new e.MJ("",[e.k0.required])}),this.getEmail()}registrar(){this.authService.register(this.regisForm.value).then(t=>{var o,c;1===(null==t||null===(o=t.data)||void 0===o?void 0:o.success)?(this.authService.navigateByUrl("/barberias"),this.regisForm.reset()):this.authService.showAlert(null==t||null===(c=t.data)||void 0===c?void 0:c.message)}).catch(t=>{var o;this.authService.showAlert(null==t||null===(o=t.error)||void 0===o?void 0:o.message)})}goBack(){this.nav.back()}resendCode(){console.log("Reenviar c\xf3digo")}getEmail(){this.authService.perfil().then(t=>{var o;1===(null==t||null===(o=t.data)||void 0===o?void 0:o.success)?this.email=t.data:this.authService.showAlert("Su token de acceso ya no es v\xe1lido, por favor inicie sesi\xf3n nuevamente.")}).catch(t=>{var o;this.authService.showAlert(null==t||null===(o=t.error)||void 0===o?void 0:o.message)})}}return(r=d).\u0275fac=function(t){return new(t||r)(n.rXU(v.q9))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-registro"]],standalone:!0,features:[n.aNF],decls:20,vars:1,consts:[["modal",""],["size","large","name","arrow-back-outline",1,"back",3,"click"],["src","assets/logo.jpeg",1,"logo"],[3,"formGroup"],[1,"datos"],[1,"usuario"],["formControlName","name","label","Nombre","label-placement","floating","fill","outline","placeholder","Alex"],[1,"email"],["formControlName","email","type","Email","label","Email","label-placement","floating","fill","outline","placeholder","ejemplo@gmail.com"],[1,"numero"],["formControlName","phone","type","tel","label","Numero Movil","label-placement","floating","fill","outline","placeholder","312-999-2212"],[1,"password"],["formControlName","password","type","password","label","Contrase\xf1a","label-placement","floating","fill","outline","placeholder","********"],[1,"confirmar"],["formControlName","password_confirmation","label","Confirmar contrase\xf1a","type","password","label-placement","floating","fill","outline","placeholder","********"],["id","open-modal"],["trigger","open-modal",2,"transform","translateY(42%)"],[1,"container"],[1,"PrimeraParte"],[1,"SegundaParte"],[2,"gap","4",3,"length"],[1,"opciones"],["color","primary",1,"reenviar-codigo",3,"click"],[1,"Siguiente"]],template:function(t,o){if(1&t){const c=n.RV6();n.j41(0,"ion-content")(1,"ion-icon",1),n.bIt("click",function(){return n.eBV(c),n.Njj(o.goBack())}),n.k0s(),n.nrm(2,"ion-img",2),n.j41(3,"form",3)(4,"div",4)(5,"div",5),n.nrm(6,"ion-input",6),n.k0s(),n.j41(7,"div",7),n.nrm(8,"ion-input",8),n.k0s(),n.j41(9,"div",9),n.nrm(10,"ion-input",10),n.k0s(),n.j41(11,"div",11),n.nrm(12,"ion-input",12),n.k0s(),n.j41(13,"div",13),n.nrm(14,"ion-input",14),n.k0s(),n.j41(15,"ion-button",15),n.EFF(16,"Registrar"),n.k0s(),n.j41(17,"ion-modal",16,0),n.DNE(19,P,16,2,"ng-template"),n.k0s()()()()}2&t&&(n.R7$(3),n.Y8G("formGroup",o.regisForm))},dependencies:[h.tm,m._c,m.o$,a.bv,a.Jm,a.W9,a.iq,a.KW,a.$w,a.JI,a.IO,a.Sb,a.Gw,u.MD,e.YN,e.qT,e.BC,e.cb,e.X1,e.j4,e.JD],styles:['@charset "UTF-8";ion-modal[_ngcontent-%COMP%]{--height: 80%;--width: 100vw;--border-radius: 16px 16px 0 0;--box-shadow: none;position:absolute;bottom:0;left:0;right:0;margin:0;overflow:hidden}ion-modal[_ngcontent-%COMP%]::part(backdrop){background:#0000;opacity:0;box-shadow:none}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;text-align:center;padding:16px;max-width:100%;box-sizing:border-box}.logo[_ngcontent-%COMP%]{width:50%;max-width:240px;height:auto;margin:auto}.usuario[_ngcontent-%COMP%], .email[_ngcontent-%COMP%], .numero[_ngcontent-%COMP%], .password[_ngcontent-%COMP%], .confirmar[_ngcontent-%COMP%]{width:100%;margin-bottom:5%}.datos[_ngcontent-%COMP%]{padding-left:5%;padding-right:5%;box-sizing:border-box;width:100%}.Siguiente[_ngcontent-%COMP%]{background-color:gray;width:90%;height:4.5vh;border-radius:10px;justify-content:center;text-align:center;align-items:center;font-size:18px;cursor:pointer}.Siguiente[_ngcontent-%COMP%]:active{background-color:#1f0cc5}.PrimeraParte[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;text-align:center;background-color:#f5f5f5}.PrimeraParte[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:clamp(1rem,2vw + 1rem,2.5rem)}.reenviar-codigo[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.reenviar-codigo[_ngcontent-%COMP%]:hover{text-decoration:underline}.opciones[_ngcontent-%COMP%]{display:flex;padding:1.3%;justify-content:center;flex-direction:column;align-items:center;background-color:#f5f5f5;gap:10px}.button[_ngcontent-%COMP%]{width:100%;text-transform:capitalize;font-size:4vw;--background: gray}.back[_ngcontent-%COMP%]{padding-top:6%;padding-left:5%}@media (max-width: 480px){ion-modal[_ngcontent-%COMP%]{--height: 50%;--width: 100vw;--border-radius: 16px 16px 0 0}.container[_ngcontent-%COMP%]{padding:8px}.logo[_ngcontent-%COMP%]{width:70%;max-width:140px}.button[_ngcontent-%COMP%]{font-size:5vw;padding-top:3%;padding-bottom:3%}.usuario[_ngcontent-%COMP%], .email[_ngcontent-%COMP%], .numero[_ngcontent-%COMP%], .password[_ngcontent-%COMP%], .confirmar[_ngcontent-%COMP%]{margin-bottom:3%}ion-input[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px}}@media (max-width: 360px){ion-modal[_ngcontent-%COMP%]{--height: 60%}.container[_ngcontent-%COMP%]{padding:5px;overflow-y:auto}.logo[_ngcontent-%COMP%]{width:80%;max-width:120px}.button[_ngcontent-%COMP%]{font-size:6vw;padding-top:2%;padding-bottom:2%}.usuario[_ngcontent-%COMP%], .email[_ngcontent-%COMP%], .numero[_ngcontent-%COMP%], .password[_ngcontent-%COMP%], .confirmar[_ngcontent-%COMP%]{margin-bottom:2%}ion-input[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px}.back[_ngcontent-%COMP%]{padding-top:3%}}']}),d})()}}]);