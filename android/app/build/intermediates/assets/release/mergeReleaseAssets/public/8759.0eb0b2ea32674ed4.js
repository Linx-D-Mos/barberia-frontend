"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8759],{8759:(tt,u,o)=>{o.r(u),o.d(u,{CitasPage:()=>_});var g=o(467),t=o(3953),f=o(177),y=o(4341),c=o(6973),M=o(5079),m=o(5873),O=o(5083),b=o(6648),A=o(8359);class S extends A.yU{constructor(n,i){super()}schedule(n,i=0){return this}}const d={setInterval(s,n,...i){const{delegate:e}=d;return null!=e&&e.setInterval?e.setInterval(s,n,...i):setInterval(s,n,...i)},clearInterval(s){const{delegate:n}=d;return((null==n?void 0:n.clearInterval)||clearInterval)(s)},delegate:void 0};var I=o(7908);const p={now:()=>(p.delegate||Date).now(),delegate:void 0};class l{constructor(n,i=l.now){this.schedulerActionCtor=n,this.now=i}schedule(n,i=0,e){return new this.schedulerActionCtor(this,n).schedule(e,i)}}l.now=p.now;const v=new class w extends l{constructor(n,i=l.now){super(n,i),this.actions=[],this._active=!1}flush(n){const{actions:i}=this;if(this._active)return void i.push(n);let e;this._active=!0;do{if(e=n.execute(n.state,n.delay))break}while(n=i.shift());if(this._active=!1,e){for(;n=i.shift();)n.unsubscribe();throw e}}}(class F extends S{constructor(n,i){super(n,i),this.scheduler=n,this.work=i,this.pending=!1}schedule(n,i=0){var e;if(this.closed)return this;this.state=n;const a=this.id,r=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(r,a,i)),this.pending=!0,this.delay=i,this.id=null!==(e=this.id)&&void 0!==e?e:this.requestAsyncId(r,this.id,i),this}requestAsyncId(n,i,e=0){return d.setInterval(n.flush.bind(n,this),e)}recycleAsyncId(n,i,e=0){if(null!=e&&this.delay===e&&!1===this.pending)return i;null!=i&&d.clearInterval(i)}execute(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const e=this._execute(n,i);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,i){let a,e=!1;try{this.work(n)}catch(r){e=!0,a=r||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:n,scheduler:i}=this,{actions:e}=i;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.o)(e,this),null!=n&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,super.unsubscribe()}}}),$=v;var j=o(8793),C=o(6697),k=o(9974),D=o(4360),R=o(5343),G=o(3703),E=o(1397),z=o(8750);function x(s,n){return n?i=>(0,j.x)(n.pipe((0,C.s)(1),function T(){return(0,k.N)((s,n)=>{s.subscribe((0,D._)(n,R.l))})}()),i.pipe(x(s))):(0,E.Z)((i,e)=>(0,z.Tg)(s(i,e)).pipe((0,C.s)(1),(0,G.u)(i)))}var N=o(1985),X=o(9470);var W=o(8141),U=o(8880),H=o(9335),P=o(4742);function B(s,n){if(1&s&&t.EFF(0),2&s){const i=t.XpG();t.SpI(" ",null==i.perfil||null==i.perfil.datum?null:i.perfil.datum.name," ! ")}}function J(s,n){1&s&&(t.j41(0,"p"),t.nrm(1,"ion-skeleton-text",6),t.k0s()),2&s&&(t.R7$(),t.Y8G("animated",!0))}function Q(s,n){if(1&s){const i=t.RV6();t.j41(0,"ion-card",5)(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3),t.k0s(),t.j41(4,"ion-card-subtitle"),t.EFF(5),t.k0s()(),t.j41(6,"ion-card-content",8)(7,"ion-button",9),t.bIt("click",function(){const a=t.eBV(i).$implicit,r=t.XpG(2);return t.Njj(r.presentActionSheet(a))}),t.EFF(8,"detalles"),t.k0s()()()}if(2&s){const i=n.$implicit,e=t.XpG(2);t.R7$(3),t.JRh(i.name),t.R7$(2),t.SpI("Fecha: ",e.date,"")}}function Z(s,n){if(1&s&&t.DNE(0,Q,9,2,"ion-card",7),2&s){const i=t.XpG();t.Y8G("ngForOf",i.users)}}function K(s,n){1&s&&(t.j41(0,"ion-list",10)(1,"ion-item")(2,"ion-label")(3,"h1"),t.nrm(4,"ion-skeleton-text",11),t.k0s(),t.j41(5,"p"),t.nrm(6,"ion-skeleton-text",12),t.k0s(),t.j41(7,"p"),t.nrm(8,"ion-skeleton-text",13),t.k0s()()()()),2&s&&(t.R7$(4),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0))}function q(s,n){if(1&s&&t.Z7z(0,K,9,3,"ion-list",10,t.Vm6),2&s){const i=t.XpG();t.Dyx(i.ionContentList)}}let _=(()=>{var s;class n{constructor(e,a){this.actionSheetController=e,this.alertController=a,this.users=[],this.date="",this.loaded=!1,this.ionContentList=[1,2,3,4,5,6,7,8],this.nav=(0,t.WQX)(U.q9),this.authService=(0,t.WQX)(H.u),(0,M.a)({personCircleOutline:m.kki})}ngOnInit(){this.date=(new Date).toLocaleDateString(),this.cargarDatos().subscribe(),this.getPerfil()}cargarDatos(){return(0,b.H)(O.pX.get({url:"https://jsonplaceholder.typicode.com/users"})).pipe(function V(s,n=v){const i=function L(s=0,n,i=$){let e=-1;return null!=n&&((0,X.m)(n)?i=n:e=n),new N.c(a=>{let r=function Y(s){return s instanceof Date&&!isNaN(s)}(s)?+s-i.now():s;r<0&&(r=0);let h=0;return i.schedule(function(){a.closed||(a.next(h++),0<=e?this.schedule(void 0,e):a.complete())},r)})}(s,n);return x(()=>i)}(3e3),(0,W.M)(a=>{this.users=a.data,this.loaded=!0}))}getCurrentDateTime(){const e=new Date;return{date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}}presentActionSheet(e){var a=this;return(0,g.A)(function*(){const{date:r,time:h}=a.getCurrentDateTime();yield(yield a.actionSheetController.create({header:"Detalles de la cita",cssClass:"custom-action-sheet",buttons:[{text:`${e.name}`,icon:m.kki,handler:()=>{}},{text:`Fecha: ${r}`,handler:()=>{}},{text:`Hora: ${h}`,handler:()=>{}},{text:"Servicio: Consulta",handler:()=>{}},{text:"Aceptar",role:"accept",handler:()=>{a.showAlert("Cita aceptada","Has aceptado la cita.")}},{text:"Rechazar",role:"reject",handler:()=>{a.showAlert("Cita rechazada","\xbfEstas seguro?")}}]})).present()})()}showAlert(e,a){var r=this;return(0,g.A)(function*(){yield(yield r.alertController.create({header:e,message:a,buttons:["Si"]})).present()})()}profile(){this.nav.navigateForward("/perfil")}getPerfil(){this.authService.perfil().then(e=>{var a;1===(null==e||null===(a=e.data)||void 0===a?void 0:a.success)?this.perfil=e.data:this.authService.showAlert("Su token de acceso ya no es valido, por favor inicie sesi\xf3n nuevamente.")}).catch(e=>{var a;this.authService.showAlert(null==e||null===(a=e.error)||void 0===a?void 0:a.message)})}}return(s=n).\u0275fac=function(e){return new(e||s)(t.rXU(P.GD),t.rXU(P.hG))},s.\u0275cmp=t.VBU({type:s,selectors:[["app-citas"]],standalone:!0,features:[t.aNF],decls:12,vars:5,consts:[[1,"container"],["routerLink","/home","src","assets/logo.jpeg",1,"logo"],[1,"name"],["name","person-circle-outline","size","large",1,"account",3,"click"],[3,"fullscreen"],[1,"cartas"],[2,"width","80%","height","1em",3,"animated"],["class","cartas",4,"ngFor","ngForOf"],[1,"card-content"],[1,"aceptar",3,"click"],[2,"width","100%","height","auto","padding","4%"],[2,"width","50%","height","1.3rem",3,"animated"],[2,"width","30%","height","1.1rem",3,"animated"],[2,"border-radius","5px","width","36%","height","2.2rem","background-color","rgb(226, 226, 226)","margin-left","60%",3,"animated"]],template:function(e,a){1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"div",0),t.nrm(3,"ion-img",1),t.j41(4,"ion-label",2),t.EFF(5," Bienvenido "),t.DNE(6,B,1,1)(7,J,2,1,"p"),t.k0s(),t.j41(8,"ion-icon",3),t.bIt("click",function(){return a.profile()}),t.k0s()()()(),t.j41(9,"ion-content",4),t.DNE(10,Z,1,1,"ion-card",5)(11,q,2,0),t.k0s()),2&e&&(t.R7$(6),t.vxM(a.loaded?6:-1),t.R7$(),t.vxM(a.loaded?-1:7),t.R7$(2),t.Y8G("fullscreen",!0),t.R7$(),t.vxM(a.loaded?10:-1),t.R7$(),t.vxM(a.loaded?-1:11))},dependencies:[c.nf,c.uz,c.ds,c.KW,c.he,c.iq,c.HW,c.tN,c.ME,c.Jm,c.I9,c.b_,c.W9,c.eU,c.ai,f.MD,f.Sq,y.YN],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.container[_ngcontent-%COMP%]{padding-left:4%;padding-right:4%;width:100%;display:flex;align-items:center;justify-content:space-between}.container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:80px;height:80px}.container[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100px;height:100px}.name[_ngcontent-%COMP%]{font-size:17px;text-align:center;flex-grow:1}ion-skeleton-text[_ngcontent-%COMP%]{--border-radius: 9999px;--background: rgba(188, 0, 255, .065);--background-rgb: 188, 0, 255}.skeleton[_ngcontent-%COMP%]{--background: rgba(255, 0, 0, .065);--border-radius: 20px}.cartas[_ngcontent-%COMP%]{background-color:#cdcdcd;border-radius:15px;margin:6%}.aceptar[_ngcontent-%COMP%]{padding-left:62%;margin-top:-15%;font-size:18px;font-weight:700;font-family:PT Sans,sans-serif;font-style:normal;text-transform:capitalize;--background: #2C2C2C}.custom-action-sheet[_ngcontent-%COMP%]   .action-sheet-header[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.custom-action-sheet[_ngcontent-%COMP%]   .action-sheet-button[_ngcontent-%COMP%]{font-size:16px}.custom-action-sheet[_ngcontent-%COMP%]   .action-sheet-content[_ngcontent-%COMP%]{padding:10px}.custom-action-sheet[_ngcontent-%COMP%]   .action-sheet-button[_ngcontent-%COMP%]{display:flex;align-items:center}.custom-action-sheet[_ngcontent-%COMP%]   .action-sheet-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:10px}"]}),n})()}}]);